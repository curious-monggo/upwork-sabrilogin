<ion-header>
  <ion-toolbar color="success">
    <ion-title>Questions</ion-title>
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>




  
  <ion-card *ngIf="hasCode; else enterCode">
    <ion-card-header>
      <!-- <ion-card-subtitle>Card Subtitle</ion-card-subtitle> -->
      <!-- <ion-card-title>To proceed, please enter the code.</ion-card-title> -->
    </ion-card-header>
  
    <ion-card-content>

      <ion-text *ngIf="question.text" color="dark">
      <h1>{{question.text}}</h1>
      </ion-text>
      <ion-img *ngIf="question.img_url" src="{{question.img_url}}"></ion-img>
      <iframe 
      width="560"
      height="315" 
      [src]="testVideoLink" 
      ="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" 
      allowfullscreen></iframe>

      <ion-list>
        <ion-radio-group  [(ngModel)]="chosen_choice_id">
          <!-- <ion-list-header>
            <ion-label>Multiple choice</ion-label>
          </ion-list-header> -->
      
          <ion-item *ngFor="let choice of choices">
            <ion-label class="ion-text-wrap">
              <ion-text>
                <h5 *ngIf="choice.text">{{choice.text}}</h5>
              </ion-text>
              <ion-img *ngIf="choice.img_url" src="{{choice.img_url}}"></ion-img>
            </ion-label>
            <!-- <ion-thumbnail slot="end">
            <img src="{{choice.img_url}}">
            </ion-thumbnail> -->
            <ion-radio slot="start" value="{{choice.choice_id}}"></ion-radio>
          </ion-item>
      
          <!-- <ion-item>
            <ion-label>Mitrochondria</ion-label>
            <ion-radio slot="start" value="griff"></ion-radio>
          </ion-item>
      
          <ion-item>
            <ion-label>Buford</ion-label>
            <ion-radio slot="start" value="buford"></ion-radio>
          </ion-item> -->
        </ion-radio-group>
      </ion-list>
      
      <ion-button color="success" expand="block" (click)="onAnswer()" [disabled]="answerDisabled">Answer</ion-button>
    </ion-card-content>
    
  </ion-card>
  <ng-template #enterCode>
    <ion-card >
      <ion-card-header>
        <!-- <ion-card-subtitle>Card Subtitle</ion-card-subtitle> -->
        <ion-card-title>To proceed, please enter the code.</ion-card-title>
      </ion-card-header>
    
      <ion-card-content>
        <!-- Keep close to Nature's heart... and break clear away, once in awhile,
        and climb a mountain or spend a week in the woods. Wash your spirit clean. -->
  
        <!-- Input with placeholder -->
        <ion-input placeholder="Enter code here" [(ngModel)]="codeTyped"></ion-input>
        <!-- <ion-input type="text" placeholder="Email" [(ngModel)]="email"></ion-input>  -->
  
        <!-- Default -->
        <ion-button color="success" (click)="getQuestion()">Next</ion-button>
      </ion-card-content>
      
    </ion-card>
  </ng-template>


</ion-content> 
